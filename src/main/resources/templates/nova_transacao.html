<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nova Transação</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
    <form th:action="@{/transacao/salvar}" method="post" enctype="multipart/form-data">
        <h1>Adicionar Receita ou Despesa</h1>

        <div th:if="${error}" class="mensagem-erro" th:text="${error}"></div>
        
        <div>
            <label for="descricao">Descrição:</label>
            <input type="text" id="descricao" name="descricao" required>
        </div>
        
        <div>
            <label for="valor">Valor:</label>
            <input type="number" id="valor" name="valor" min="0.01" step="0.01" required>
        </div>

        <div>
            <label for="tipo">Tipo:</label>
            <select id="tipo" name="tipo" required>
                <option th:each="tipo : ${tiposTransacao}" th:value="${tipo}" th:text="${tipo}"></option>
            </select>
        </div>

        <div>
            <label for="categoriaId">Categoria:</label>
            <select id="categoriaId" name="categoriaId" required>
                <option th:each="categoria : ${categorias}" 
                        th:value="${categoria.id}" 
                        th:text="${categoria.nome}">Categoria</option>
            </select>
        </div>

        <div>
            <label for="file">Cupom Fiscal (PDF/Imagem):</label>
            <input type="file" id="file" name="file" accept="application/pdf,image/*">
        </div>
        
        <button type="submit">Salvar Transação</button>
    </form>
    
    <p><a th:href="@{/}">Voltar para o Início</a></p>
</body>
</html>